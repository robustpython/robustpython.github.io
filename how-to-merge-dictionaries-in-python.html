<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/theme/robust-python-logo-circle.png">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Roboto:ital,wght@0,400;0,500;0,700;1,300;1,400;1,500;1,700&family=Source+Code+Pro:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400;1,600;1,700&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" href="/theme/tailwind.css" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js"
            integrity="sha512-zol3kFQ5tnYhL7PzGt0LnllHHVWRGt2bTCIywDiScVvLIlaDOVJ6sPdJTVi0m3rA660RT+yZxkkRzMbb1L8Zkw=="
            crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/github-gist.min.css" integrity="sha512-od7JLoOTxM8w/HSKGzP9Kexc20K9p/M2zxSWsd7H1e4Ctf+8SQFtCWEZnW5u6ul5ehSECa5QmOk9ju2nQMmlVA==" crossorigin="anonymous" />
    <script>
        hljs.highlightAll();
        /* document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('p code').forEach((block) => {
                block.classList.add("python");
                hljs.highlightBlock(block);
            });
        }); */
    </script>

            <title>Robust Python - How to merge dictionaries in Python</title>
        <meta charset="utf-8"/>
        <meta name="generator" content="Pelican"/>




        <meta name="tags" content="python"/>
        <meta name="tags" content="comprehensions"/>
        <meta name="tags" content="dict"/>
        <meta name="tags" content="dictionary"/>

</head>

<body class="font-sans bg-gray-700">
<div class="relative bg-white min-h-screen flex-col md:flex">
    <!-- header -->
    <div class="px-2  border-t-4 border-gray-700">
        <div class="max-w-4xl mx-auto sm:flex justify-start items-center border-b py-3 border-gray-300">
            <div class="hidden sm:inline justify-start">
                <a class="" href="/">
                    <img class="mx-2.5" src="/theme/robust-python-logo-flat.png" width="50" height="51">
                </a>
            </div>
            <div class="sm:flex flex-grow justify-start items-center sm:items-baseline">
                <div class="inline sm:hidden flex items-center justify-center">
                    <a class="justify-end" href="/">
                        <img class="mx-2.5 rounded-full inline" src="/theme/robust-python-logo-flat.png" width="50"
                             height="50">
                    </a>
                    <h1 class="inline text-gray-800 font-headline font-medium text-3xl">Robust Python</h1>
                </div>
                <h1 class="hidden sm:inline text-gray-800 font-headline font-medium text-3xl">Robust Python</h1>
                <nav class="sm:flex min-h-full font-headline font-medium justify-end flex-1">
                    <ul class="text-center">
                        <li class="sm:inline my-1 sm:mx-3 items-baseline">
                            <a class="text-gray-600 hover:text-gray-800 "
                               href="/">Home</a>
                        </li>
                                <li class="sm:inline my-1 sm:mx-3">
                                    <a class="text-gray-600 hover:text-gray-800  "
                                       href="./category/python.html">Python</a>
                                </li>
                                <li class="sm:inline my-1 sm:mx-3">
                                    <a class="text-gray-600 hover:text-gray-800"
                                       href="./about.html">About</a>
                                </li>

                    </ul>
                </nav>
            </div>
        </div>
    </div>
    <!-- main -->
    <div class="md:flex mt-12 max-w-4xl mx-auto md:flex-grow">
        <!-- content -->
        <div class="md:flex-auto px-5 max-w-2xl">
    <section id="content" class="mx-auto max-w-2xl font-sans text-gray-800 text-lg">
        <header>

            <h1 class="font-headline text-4xl mb-4 text-gray-800">
                <a href="./how-to-merge-dictionaries-in-python.html" rel="bookmark"
                   title="Permalink to How to merge dictionaries in Python">How to merge dictionaries in Python</a></h1>
            <time class="text-gray-500 font-sans font-medium text-base" datetime="2021-05-11T10:36:00+02:00">
                Tue 11 May 2021
            </time>
        </header>
        <footer class="">

        </footer><!-- /.post-info -->
        <div id="full-article" class="mt-7">
            <p>We have two dictionaries, <code>d1</code> and <code>d2</code> and we want to merge them, so we end up
with dictionary which will contain values from both.</p>
<pre><code class="language-python">d1 = {'left': 5, 'right': 10}

d2 = {'top': 15, 'bottom': 20}
</code></pre>
<p>Expected result after merging is:</p>
<pre><code class="language-python">{'left': 5, 'right': 10, 'top': 15, 'bottom': 20}
</code></pre>
<h2>Using dictionary union</h2>
<p>Cleanest and shortest way is to use dictionary union. </p>
<p>Please note this is <strong>available only for Python 3.9</strong> and greater:</p>
<pre><code class="language-python">merged = d1 | d2
</code></pre>
<h2>Using dictionary constructor</h2>
<p>Second best way is to use the following. </p>
<p>Please note this <strong>works only for Python 3.5</strong> and greater:</p>
<pre><code class="language-python">merged = {**d1, **d2}
</code></pre>
<h2>Using comprehension</h2>
<p>With Python 3.4 and lower you'll have to write a bit more code.</p>
<p>One option is to use a dict comprehension which I'd prefer:</p>
<pre><code class="language-python">merged = {k: v for d in [d1, d2] for k, v in d.items()}
</code></pre>
<h2>Just copy and update</h2>
<p>Or do it in more imperative way but that is 2 lines, and you mutate variable
which I do not recommend.</p>
<pre><code class="language-python">merged = d1.copy()
merged.update(d2)
</code></pre>
<h2>More than 2 dictionaries</h2>
<p>Anything above also works with 3 or more dictionaries of course:</p>
<pre><code class="language-python">d1 = {'left': 5, 'right': 10}

d2 = {'top': 15, 'bottom': 20}

d3 = {'height': 30, 'width': 40}

# Python 3.9+
merged = d1 | d2 | d3

# Python 3.5+
merged = {**d1, **d2, **d3}

# Python 3.4 and lower
merged = {k: v for d in [d1, d2, d3] for k, v in d.items()}

# imperative way 
merged = d1.copy()
merged.update(d2)
merged.update(d3)

# All code above will produce 
{'left': 5, 'right': 10, 'top': 15, 'bottom': 20, 'height': 30, 'width': 40}
</code></pre>
<h2>Further reading</h2>
<p>I also wrote about <a href="https://robustpython.com/list-of-unique-items-comprehension.html">How to create list of unique items with comprehension</a></p>
        </div><!-- /.entry-content -->
<!-- Begin Mailchimp Signup Form -->
<link href="https://cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
    #mc_embed_signup {
    }

    #mc_embed_signup h2 {
        font-weight: 500;
        padding: 0;
        margin: 15px 0;
        font-size: 1.25rem;
    }

    #mc_embed_signup form {
        display: block;
        position: relative;
        text-align: left;
        padding: 10px 0 10px 0px;
    }

    #mc-embedded-subscribe {
        clear: both;
        width: 100%;
        display: block;
        margin: 1rem 0 0 0;
    }

    #mc_embed_signup input {
        border: 1px solid #e5e7eb;
        -webkit-border-radius: 4px;
        -moz-border-radius: 4px;
        border-radius: 4px;
    }

    #mc_embed_signup input:focus {
        border-color: #9CA3AF;
    }

    #mc_embed_signup input[type="submit"] {
        border: none;
    }

    #mc_embed_signup .mc-field-group {
        clear: left;
        position: relative;
        width: 100%;
        padding-bottom: 3%;
        min-height: 50px;
    }

    #mc_embed_signup #mc-embedded-subscribe-form div.mce_inline_error {
        display: inline-block;
        margin: 2px 0 0 0;
        padding: 5px 10px;
        background-color: #F9FAFB;
        font-size: 14px;
        font-weight: normal;
        z-index: 1;
        color: #EF4444;
    }

    #mc_embed_signup #mc-embedded-subscribe-form input.mce_inline_error {
        border: 2px solid #EF4444;
    }

    #mc_embed_signup div#mce-responses {
        float: left;
        top: -1.4em;
        padding: 0em .5em 0em .5em;
        overflow: hidden;
        width: 100%;
        margin: 0 0%;
        clear: both;
    }

    #mc_embed_signup div.response {
        margin: 0 0 1rem 0;
        padding: 0;
        font-weight: bold;
        float: left;
        top: -1.5em;
        z-index: 1;
        width: 100%;
    }


    /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup" class="bg-gray-50 md:ml-0 pb-2 px-4 text-base sm:px-8 shadow-md rounded">
    <form action="https://robustpython.us1.list-manage.com/subscribe/post?u=913c951660896b021a236dbb7&amp;id=6c78243d97"
          method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate"
          target="_blank" novalidate>
        <div id="mc_embed_signup_scroll">
            <h2 class="font-headline text-lg text-center ">Join the newsletter</h2>
            <p class="text-center text-gray-500 px-2">
                Get new articles delivered into your inbox!
            </p>
            <div class="indicates-required"></div>
            <div class="mc-field-group">
                <label for="mce-EMAIL" style="display: none">Email Address <span class="asterisk">*</span>
                </label>
                <input type="email" value="" name="EMAIL"
                       placeholder="Email address (required)"
                       class="required email rounded border px-2 focus:outline-none w-full mt-5"
                       id="mce-EMAIL">
            </div>
            <div class="mc-field-group">
                <label for="mce-FNAME" style="display: none">First Name</label>
                <input type="text" value="" name="FNAME"
                       placeholder="First name"
                       class="rounded border px-2 focus:outline-none w-full mt-2" id="mce-FNAME">
            </div>
            <div id="mce-responses" class="clear">
                <div class="response" id="mce-error-response" style="display:none"></div>
                <div class="response" id="mce-success-response" style="display:none"></div>
            </div>
            <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
            <div style="position: absolute; left: -5000px;" aria-hidden="true">
                <input type="text"
                       name="b_913c951660896b021a236dbb7_6c78243d97"
                       tabindex="-1" value="">
            </div>
            <div class="clear">
                <input type="submit" value="Subscribe" name="subscribe"
                       id="mc-embedded-subscribe"
                       class="bg-gray-700 text-white h-9 w-full rounded text-base px-5"></div>
        </div>
    </form>
</div>
<script type='text/javascript'
        src='https://s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script>
<script type='text/javascript'>(function ($) {
    window.fnames = new Array();
    window.ftypes = new Array();
    fnames[0] = 'EMAIL';
    ftypes[0] = 'email';
    fnames[1] = 'FNAME';
    ftypes[1] = 'text';
}(jQuery));
var $mcj = jQuery.noConflict(true);</script>
<!--End mc_embed_signup-->    </section>
        </div>
        <!-- sidebar -->
    </div>
    <!-- footer -->
    <footer class="text-center p-5 mt-20 bg-gray-700 text-gray-50">
        © Robust Python 2021
        <br>
        <span class="text-sm">Proudly powered by <a href="https://getpelican.com/">Pelican</a>,
            which takes great advantage of <a href="https://www.python.org/">Python</a>.</span>
    </footer>
</div>
</body>

</html>